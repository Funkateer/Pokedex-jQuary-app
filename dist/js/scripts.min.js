var pokemonRepository=function(){var t=[];function n(t,n){$.ajax(t,{dataType:"json"}).fail(function(){console.log("The request failed (maybe you are offline?)")}).then(function(t){n(t)})}function i(t){t.results.forEach(function(t){o({name:t.name,detailsUrl:t.url})}),e().forEach(function(t,n){a(t,n)})}function e(){return t}function o(n){return t.push(n)}function a(t,n){var i=$('<li class = "poke-list__item"> </li>');$(".item-list").append(i);var e=$('<button class = "poke-list__button" id = "'+String(n)+'"> '+t.name+" </button>");$(".poke-list__item:last-child").append(e).on("click",function(t){l(t.target.id)})}function l(t){n(e()[t].detailsUrl,s)}function s(t){var n=r(t);c(n);var i=$('<div class = "modal-img"> <img src = "'+String(n.imageUrl)+'" alt = "an image of '+String(n.name)+' " > </div>');$(".modal").append(i)}function r(t){var n=e()[t.id-1];return n.imageUrl=t.sprites.front_default,n.height=t.height,n.weight=t.weight,n.type=[],t.types.forEach(function(t){return n.type.push(" "+t.type.name),n.type}),n}function c(t){$("#modal-container").html("");var n=$('<div class = "modal"> <button class = "modal-close">Close</button> <h2>'+t.name+"</h2> <p>Height: "+String(t.height)+" Decimetres <br> Weight: "+String(t.weight)+" Hectograms <br> Type: "+String(t.type)+" </p> </div>");$("#modal-container").addClass("is-visible").append(n),$(".modal-close").on("click",function(){d(!0)}),$(window).on("keydown",function(t){"Escape"===t.key&&$("#modal-container").hasClass("is-visible")&&d(!0)}),$(window).on("click",function(t){t.target!==$("#modal-container")&&d(!0)})}function d(t=null){$("#modal-container").removeClass("is-visible"),"function"==typeof t&&t()}return n("https://pokeapi.co/api/v2/pokemon/?limit=42",i),{getAll:e,add:o,addListItem:a,loadList:i,loadDetails:r,showDetails:l,makeRequest:n,showModal:c,hideModal:d}}();